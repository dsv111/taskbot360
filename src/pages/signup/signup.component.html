<div *ngIf="isUser; else notUser" class="signup-container">
  <h2>Create Account</h2>

  <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
    <label>Name:</label>
    <input type="text" formControlName="name" />

    <label>Email:</label>
    <input type="email" formControlName="email" />

    <label>Password:</label>
    <input type="password" formControlName="password" />

    <label>Gender:</label>
    <select formControlName="gender">
      <option value="">--Select--</option>
      <option value="male">Male</option>
      <option value="female">Female</option>
      <option value="other">Other</option>
    </select>

    <label>Profile Picture:</label>
    <input type="file" (change)="onFileSelected($event)" />

    <!-- AI-enhanced preview -->
    <div *ngIf="previewUrl" class="preview">
      <p>Preview:</p>
      <img [src]="previewUrl" alt="Profile Preview" />
    </div>

    <button type="submit" [disabled]="isProcessing || signupForm.invalid">
      {{ isProcessing ? 'Processing...' : 'Sign Up' }}
    </button>
  </form>
</div>

<ng-template #notUser>
  <div class="signup-container">
    <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
      <label>Email:</label>
      <input type="email" formControlName="email" placeholder="Enter your email" />

      <label>Password:</label>
      <input type="password" formControlName="password" placeholder="Enter your password" />

      <button type="submit" [disabled]="loginForm.invalid || isProcessing">
        {{ isProcessing ? 'Logging in...' : 'Login' }}
      </button>
    </form>
    <div class="switch-msg" (click)="isUser = true">
      Donâ€™t have an account? Sign Up
    </div>
  </div>
</ng-template>
